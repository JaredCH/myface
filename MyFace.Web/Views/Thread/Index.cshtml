@model List<MyFace.Core.Entities.Thread>
@inject MyFace.Web.Services.BBCodeFormatter Formatter
@using System.Security.Claims
@{
    ViewData["Title"] = "Threads";
    var userRole = User.FindFirstValue(ClaimTypes.Role);
    var isAdminOrMod = userRole == "Admin" || userRole == "Moderator";
    var hotThreads = ViewBag.HotThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
    var newThreads = ViewBag.NewThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
    var newsThreads = ViewBag.NewsThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
    var announcementsThreads = ViewBag.AnnouncementsThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
}
<div class="thread-actions">
    <a href="@Url.Action("Create")" class="thread-action primary">New Thread</a>
    <a href="@Url.Action("Threads","Rss")" class="thread-action">RSS</a>
</div>

<div class="tabs">
    <input type="radio" name="tabset" id="tab-hot" checked />
    <label for="tab-hot">ðŸ”¥ Hot</label>

    <input type="radio" name="tabset" id="tab-new" />
    <label for="tab-new">ðŸ†• New</label>

    <input type="radio" name="tabset" id="tab-news" />
    <label for="tab-news">ðŸ“° News</label>

    <input type="radio" name="tabset" id="tab-announcements" />
    <label for="tab-announcements">ðŸ“¢ Announcements</label>

    <div class="tab-panels">
        <section class="tab-panel panel-hot">
            @foreach (var thread in hotThreads)
            {
                @await Html.PartialAsync("_ThreadCard", thread)
            }
        </section>

        <section class="tab-panel panel-new">
            @foreach (var thread in newThreads)
            {
                @await Html.PartialAsync("_ThreadCard", thread)
            }
        </section>

        <section class="tab-panel panel-news">
            @foreach (var thread in newsThreads)
            {
                @await Html.PartialAsync("_ThreadCard", thread)
            }
        </section>

        <section class="tab-panel panel-announcements">
            @foreach (var thread in announcementsThreads)
            {
                @await Html.PartialAsync("_ThreadCard", thread)
            }
        </section>
    </div>
</div>