@model List<MyFace.Core.Entities.Thread>
@inject MyFace.Web.Services.BBCodeFormatter Formatter
@using System.Security.Claims
@{
    ViewData["Title"] = "Threads";
    var userRole = User.FindFirstValue(ClaimTypes.Role);
    var isAdminOrMod = userRole == "Admin" || userRole == "Moderator";
    var hotThreads = ViewBag.HotThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
    var newThreads = ViewBag.NewThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
    var newsThreads = ViewBag.NewsThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
    var announcementsThreads = ViewBag.AnnouncementsThreads as List<MyFace.Core.Entities.Thread> ?? new List<MyFace.Core.Entities.Thread>();
}
<h1>Threads</h1>
<p><a href="@Url.Action("Create")" class="button">New Thread</a> | <a href="@Url.Action("Threads","Rss")">RSS</a></p>

<div class="tabs">
    <a href="#hot" class="tab-link">Hot</a>
    <a href="#new" class="tab-link">New</a>
    <a href="#news" class="tab-link">News</a>
    <a href="#announcements" class="tab-link">Announcements</a>
</div>

<div id="hot" class="tab-content">
    @foreach (var thread in hotThreads)
    {
        @await Html.PartialAsync("_ThreadCard", thread)
    }
</div>

<div id="new" class="tab-content">
    @foreach (var thread in newThreads)
    {
        @await Html.PartialAsync("_ThreadCard", thread)
    }
</div>

<div id="news" class="tab-content">
    @foreach (var thread in newsThreads)
    {
        @await Html.PartialAsync("_ThreadCard", thread)
    }
</div>

<div id="announcements" class="tab-content">
    @foreach (var thread in announcementsThreads)
    {
        @await Html.PartialAsync("_ThreadCard", thread)
    }
</div>