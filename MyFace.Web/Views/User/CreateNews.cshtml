@model MyFace.Web.Models.AddNewsViewModel
@{
    ViewData["Title"] = "Post news";
}

<style>
    .news-shell { max-width: 800px; margin: 0 auto; padding: 1rem; }
    .panel { background: #ffffff; border: 1px solid #e2e8f0; border-radius: 12px; box-shadow: 0 12px 40px rgba(15,23,42,0.08); }
    .panel-inner { padding: 1.5rem; }
    .field { display: flex; flex-direction: column; gap: 0.35rem; margin-bottom: 1rem; }
    .field label { font-weight: 700; color: #0f172a; }
    .text-input, .textarea-tall { width: 100%; padding: 0.65rem 0.75rem; border-radius: 8px; border: 1px solid #cbd5e1; background: #fff; color: #0f172a; font-size: 0.95rem; }
    .textarea-tall { min-height: 160px; resize: vertical; }
    .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.35rem; border-radius: 8px; padding: 0.6rem 1rem; border: 1px solid #cbd5e1; background: #f8fafc; color: #0f172a; text-decoration: none; cursor: pointer; font-weight: 600; }
    .btn.primary { background: #0ea5e9; border-color: #0ea5e9; color: #fff; }
    .btn.link { background: transparent; border-color: transparent; color: #0ea5e9; padding-left: 0; padding-right: 0; }
    .btn:hover { filter: brightness(0.97); }
    .btn.primary:hover { filter: brightness(0.94); }
    .action-row { margin-top: 1.25rem; display: flex; gap: 0.75rem; flex-wrap: wrap; align-items: center; }
    .validation-errors { color: #b91c1c; margin-bottom: 0.75rem; }
</style>

<div class="news-shell">
    <div class="panel">
        <div class="panel-inner">
            <h1 style="margin-top: 0;">Post news</h1>
            <p style="color: #475569;">Create a new news entry for your profile.</p>

            <form asp-action="AddNews" method="post">
                @Html.AntiForgeryToken()

                <div asp-validation-summary="ModelOnly" class="validation-errors"></div>

                <div class="field">
                    <label asp-for="Title"></label>
                    <input asp-for="Title" class="text-input" placeholder="Title" />
                    <span asp-validation-for="Title" class="validation-errors"></span>
                </div>

                <div class="field">
                    <label asp-for="Content"></label>
                    <textarea asp-for="Content" class="textarea-tall" rows="8" placeholder="Content (BBCode supported)"></textarea>
                    @await Html.PartialAsync("_BBCodeHelp")
                    <span asp-validation-for="Content" class="validation-errors"></span>
                </div>

                <div class="field" style="flex-direction: row; align-items: center; gap: 0.5rem; margin-bottom: 0.25rem;">
                    <input asp-for="ApplyTheme" type="checkbox" style="width: auto;" />
                    <label asp-for="ApplyTheme" style="margin: 0; font-weight: 600;">Apply my profile theme to this post</label>
                </div>
                <p style="color: #475569; font-size: 0.9rem; margin: 0 0 0.5rem 0;">Default is off to keep news readable for everyone.</p>

                <div class="action-row">
                    <button type="submit" class="btn primary">Publish</button>
                    <a href="/user/@User.Identity!.Name" class="btn link">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
